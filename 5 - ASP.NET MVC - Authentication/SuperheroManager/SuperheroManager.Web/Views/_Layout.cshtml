@using SuperheroManager.Web.Utilities
@{
    Layout = null;
    var isUserAthenticated = User.Identity.IsAuthenticated;
}

<!DOCTYPE html>

<html>
<head>
  <meta name="viewport" content="width=device-width" />
  <title>Superhero Manager</title>
  <script src="~/Scripts/jquery-1.9.1.js"></script>
  <script src="~/Scripts/bootstrap.js"></script>
  <link href="~/Content/bootstrap.min.css" rel="stylesheet" />
  <link href="~/Styles/application.css" rel="stylesheet" />
</head>
<body>
  <div class="navbar navbar-default">
    <div class="container-fluid">
      <div class="navbar-header">
        <a href="#" class="navbar-brand">Superhero Manager</a>
      </div>
      <ul class="nav navbar-nav">
        @if (isUserAthenticated)
        {
          @MenuItem("Superheroes", "SuperheroList", "SuperheroManager")

          @MenuItem("Teams", "Index", "Home")

          @MenuItem("Superhero Manager", "Index", "SuperheroManager")

          @MenuItem("About", "About", "Home")
        }
        else
        {
          <li>
            @Html.ActionLink("Login", "Index", "Account")
          </li>
        }
      </ul>

      @if (isUserAthenticated)
      {
        <ul class="nav navbar-nav navbar-right">
          <li>
            <p class="navbar-text">Hello @User.Identity.Name</p>
          </li>
          <li>
            @Html.ActionLink("Log out", "Logout", "Account")
          </li>
        </ul>
      }
    </div>
  </div>

<div class="container">
  @RenderBody()
</div>

  @RenderSection("Scripts", false)

</body>
</html>


@helper MenuItem(String title, String actionName, String controllerName)
{
    <li class="@Html.ToggleClass("active", () => Html.ActionName() == actionName && Html.ControllerName() == controllerName)">
      @Html.ActionLink(title, actionName, controllerName)
    </li>
}
